function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function e(t,n){return(e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function r(t,n,a){return(r=o()?Reflect.construct:function(t,n,o){var r=[null];r.push.apply(r,n);var a=new(Function.bind.apply(t,r));return o&&e(a,o.prototype),a}).apply(null,arguments)}function a(t){var o="function"==typeof Map?new Map:void 0;return(a=function(t){if(null===t||(a=t,-1===Function.toString.call(a).indexOf("[native code]")))return t;var a;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==o){if(o.has(t))return o.get(t);o.set(t,u)}function u(){return r(t,arguments,n(this).constructor)}return u.prototype=Object.create(t.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),e(u,t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?u(t):n}var c={NUM_1:1,NUM_2:2,NUM_3:3,NUM_4:4,NUM_5:5,NUM_6:6,NUM_7:7,NUM_8:8,NUM_9:9,NUM_0:0,ADD:"+",SUBTRACT:"-",MULTIPLY:"×",DIVIDE:"÷",EQUALS:"=",DOT:".",SQRT:"√",CHS:"±",CLEAR:"c"};function s(){var t=[0],n=[],e=0,o=0,r=0,a=!1;function u(){if(n[0]){var r=n[0],u=t[0],i=t[1],s=void 0!==u&&void 0!==i?function(t,n,e){switch(e){case c.ADD:return t+n;case c.SUBTRACT:return t-n;case c.MULTIPLY:return t*n;case c.DIVIDE:if(0===n)throw new Error("division by zero");return t/n;default:throw new Error("operation is not valid")}}(u,i,r):u;t[0]=s}o=0,a=!0,e=0}return{display:function(){return t[o]},pressKey:function(i){if(!Object.keys(c).some((function(t){return c[t]===i})))throw new Error("Pressed key is invalid");if(function(t){return[c.NUM_0,c.NUM_1,c.NUM_2,c.NUM_3,c.NUM_4,c.NUM_5,c.NUM_6,c.NUM_7,c.NUM_8,c.NUM_9].includes(t)}(i)){r!==o&&(t[r]=0,e=0,o=r);var s=a?0:t[o],l=0===e?10*s+i:s+i*Math.pow(10,e);t[o]=l,a=!1,e<0&&e--}else if(function(t){return[c.ADD,c.SUBTRACT,c.DIVIDE,c.MULTIPLY].includes(t)}(i))1===o&&u(),n[0]=i,r=1;else if(function(t){return[c.SQRT,c.CHS].includes(t)}(i)){var d=t[o];t[o]=function(t,n){switch(n){case c.SQRT:return Math.sqrt(t);case c.CHS:return-t;default:throw new Error("operation is not valid")}}(d,i)}else i===c.EQUALS?(u(),r=0):i===c.DOT?0===e&&(e=-1):i===c.CLEAR&&(t=[0],n=[],e=0,o=0,r=0,a=!1);return this},keys:c}}var l=function(r){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(y,a(HTMLElement));var c,l,d,b,f,p=(c=y,l=o(),function(){var t,e=n(c);if(l){var o=n(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return i(this,t)});function y(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,y),(t=p.call(this)).calculator=s(),t.keys=t.calculator.keys,t.buttonClickHandler=t.buttonClickHandler.bind(u(t)),t.attachShadow({mode:"open"}),t}return d=y,(b=[{key:"getCalculatorKey",value:function(t){switch(t){case"c":return this.keys.CLEAR;case"chs":return this.keys.CHS;case"add":return this.keys.ADD;case"subtract":return this.keys.SUBTRACT;case"multiply":return this.keys.MULTIPLY;case"divide":return this.keys.DIVIDE;case"equals":return this.keys.EQUALS;case"dot":return this.keys.DOT;case"sqrt":return this.keys.SQRT;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.keys["NUM_".concat(t)]}}},{key:"connectedCallback",value:function(){var t=this,n=document.createElement("template");n.innerHTML='\n            <link href="https://fonts.googleapis.com/css2?family=Lobster+Two:wght@700&display=swap" rel="stylesheet">\n            <style>\n                :host {\n                    display: block;\n                    font-family: \'Lobster Two\', cursive;\n                    width: 100%;\n                    max-width: 400px;\n                    background-color: #747579;\n                    border-radius: 5px;\n                    box-shadow: 0 0 3px 4px #535050 inset;\n                    overflow: hidden;\n                }\n                .display-container {\n                    padding: 20px;\n                    background-color: #161415;\n                }\n                .buttons-container {\n                    padding: 20px;\n                    display: grid;\n                    gap: 10px;\n                    grid-template-columns: repeat(4, 1fr);\n                }\n                .display {\n                    font-size: 40px;\n                    font-weight: 700;\n                    background: linear-gradient(to right, #b4c6b6, #c1d6c7);\n                    text-align: right;\n                    padding: 5px 20px;\n                    border-radius: 4px;\n                    color: #1f2823;\n                    box-shadow: 0 0 0 2px #666 inset;\n                }\n                .button {\n                    display: block;\n                    background: none;\n                    background-color: #181617;\n                    border-radius: 5px;\n                    color: #ffffff;\n                    padding: 10px;\n                    text-align: center;\n                    border: none;\n                    font-family: \'Lobster Two\', cursive;\n                    font-weight: 700;\n                    font-size: 32px;\n                    box-shadow: 0 0 4px 8px #2e2c2d inset;\n                    cursor: pointer;\n                }\n\n                .button:hover {}\n\n                .button-light {\n                    background-color: #403d46;\n                    box-shadow: 0 0 4px 8px #55535a inset;\n                }\n\n                #times-btn {\n                    grid-column: 4;\n                    grid-row: 2;\n                }\n\n                #subtract-btn {\n                    grid-column: 4;\n                    grid-row: 3;\n                }\n\n                #add-btn {\n                    grid-column: 4;\n                    grid-row: 4/6;\n                }\n            </style>\n            <div class="display-container">\n                <div id="display" class="display"></div>\n            </div>\n            <div class="buttons-container">\n                <button data-key="c" id="clear-btn" class="button button-light">C</button>\n                <button data-key="chs" id="negative-btn" class="button">+/-</button>\n                <button data-key="sqrt" id="radical-btn" class="button">√¯</button>\n                <button data-key="divide" id="divide-btn" class="button">÷</button>\n                <button data-key="multiply" id="times-btn" class="button">×</button>\n                <button data-key="subtract" id="subtract-btn" class="button">-</button>\n                <button data-key="add" id="add-btn" class="button">+</button>\n                <button data-key="1" class="button">1</button>\n                <button data-key="2" class="button">2</button>\n                <button data-key="3" class="button">3</button>\n                <button data-key="4" class="button">4</button>\n                <button data-key="5" class="button">5</button>\n                <button data-key="6" class="button">6</button>\n                <button data-key="7" class="button">7</button>\n                <button data-key="8" class="button">8</button>\n                <button data-key="9" class="button">9</button>\n                <button data-key="dot" class="button">.</button>\n                <button data-key="0" class="button">0</button>\n                <button data-key="equals" class="button">=</button>\n            </div>\n        ',this.shadowRoot.appendChild(document.importNode(n.content,!0)),this.shadowRoot.querySelector("#display").textContent=this.calculator.display(),this.shadowRoot.querySelectorAll("button").forEach((function(n){n.addEventListener("click",t.buttonClickHandler)}))}},{key:"disconnectedCallback",value:function(){var t=this;this.shadowRoot.querySelectorAll("button").forEach((function(n){n.removeEventListener("click",t.buttonClickHandler)}))}},{key:"buttonClickHandler",value:function(t){var n=t.target.dataset.key,e=this.getCalculatorKey(n);this.calculator.pressKey(e),this.shadowRoot.querySelector("#display").textContent=Math.round(1e6*this.calculator.display())/1e6}}])&&t(d.prototype,b),f&&t(d,f),y}();customElements.define("calculator-web-component",l);
